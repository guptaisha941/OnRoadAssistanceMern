{"ast":null,"code":"var _jsxFileName = \"D:\\\\demo_one\\\\react-website-v1\\\\src\\\\components\\\\pages\\\\MapWithLocation.js\";\nimport React, { useEffect, useState } from \"react\";\nimport Map from \"ol/Map\";\nimport View from \"ol/View\";\nimport TileLayer from \"ol/layer/Tile\";\nimport OSM from \"ol/source/OSM\";\nimport Feature from \"ol/Feature\";\nimport Point from \"ol/geom/Point\";\nimport { fromLonLat } from \"ol/proj\";\nimport VectorLayer from \"ol/layer/Vector\";\nimport VectorSource from \"ol/source/Vector\";\nimport { Icon } from \"ol/style\";\nimport markerImg from \"./marker.png\";\nconst MapWithLocation = () => {\n  const [map, setMap] = useState(null);\n  useEffect(() => {\n    const initialMap = new Map({\n      target: \"map-container\",\n      layers: [new TileLayer({\n        source: new OSM()\n      })],\n      view: new View({\n        center: fromLonLat([0, 0]),\n        zoom: 2\n      })\n    });\n    setMap(initialMap);\n  }, []);\n  useEffect(() => {\n    if (map) {\n      navigator.geolocation.getCurrentPosition(position => {\n        const longitude = position.coords.longitude;\n        const latitude = position.coords.latitude;\n\n        // Create a marker for your location\n        const marker = new Feature({\n          geometry: new Point(fromLonLat([longitude, latitude]))\n        });\n        marker.setStyle(new Icon({\n          src: markerImg\n        }));\n\n        // Add the marker to a vector layer\n        const vectorSource = new VectorSource({\n          features: [marker]\n        });\n        const vectorLayer = new VectorLayer({\n          source: vectorSource\n        });\n        map.addLayer(vectorLayer);\n\n        // Set the view to your location\n        map.getView().setCenter(fromLonLat([longitude, latitude]));\n        map.getView().setZoom(15);\n      }, error => {\n        console.error(error);\n      });\n    }\n  }, [map]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"map-container\",\n    style: {\n      height: \"500px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 10\n    }\n  });\n};\nexport default MapWithLocation;\n\n// import React, { useEffect, useRef, useState } from 'react';\n// import L from 'leaflet';\n\n// function Map() {\n//   const mapContainer = useRef(null);\n//   const [lng, setLng] = useState(26.8364108);\n//   const [lat, setLat] = useState(75.6477448);\n//   const [zoom, setZoom] = useState(12);\n\n//   useEffect(() => {\n//     const map = L.map(mapContainer.current).setView([lat, lng], zoom);\n//     L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n//       attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors',\n//       maxZoom: 18\n//     }).addTo(map);\n\n//     map.on('move', () => {\n//       setLng(map.getCenter().lng.toFixed(4));\n//       setLat(map.getCenter().lat.toFixed(4));\n//       setZoom(map.getZoom().toFixed(2));\n//     });\n\n//     return () => map.remove();\n//   }, []);\n\n//   return (\n//     <div>\n//       <div className='sidebar'>\n//         Longitude: {lng} | Latitude: {lat} | Zoom: {zoom}\n//       </div>\n//       <div ref={mapContainer} className='map-container' />\n//     </div>\n//   );\n// }\n\n// export default Map;","map":{"version":3,"names":["React","useEffect","useState","Map","View","TileLayer","OSM","Feature","Point","fromLonLat","VectorLayer","VectorSource","Icon","markerImg","MapWithLocation","map","setMap","initialMap","target","layers","source","view","center","zoom","navigator","geolocation","getCurrentPosition","position","longitude","coords","latitude","marker","geometry","setStyle","src","vectorSource","features","vectorLayer","addLayer","getView","setCenter","setZoom","error","console","createElement","id","style","height","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["D:/demo_one/react-website-v1/src/components/pages/MapWithLocation.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Map from \"ol/Map\";\r\nimport View from \"ol/View\";\r\nimport TileLayer from \"ol/layer/Tile\";\r\nimport OSM from \"ol/source/OSM\";\r\nimport Feature from \"ol/Feature\";\r\nimport Point from \"ol/geom/Point\";\r\nimport { fromLonLat } from \"ol/proj\";\r\nimport VectorLayer from \"ol/layer/Vector\";\r\nimport VectorSource from \"ol/source/Vector\";\r\nimport { Icon } from \"ol/style\";\r\nimport markerImg from \"./marker.png\";\r\n\r\nconst MapWithLocation = () => {\r\n  const [map, setMap] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const initialMap = new Map({\r\n      target: \"map-container\",\r\n      layers: [\r\n        new TileLayer({\r\n          source: new OSM(),\r\n        }),\r\n      ],\r\n      view: new View({\r\n        center: fromLonLat([0, 0]),\r\n        zoom: 2,\r\n      }),\r\n    });\r\n    setMap(initialMap);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (map) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        (position) => {\r\n          const longitude = position.coords.longitude;\r\n          const latitude = position.coords.latitude;\r\n\r\n          // Create a marker for your location\r\n          const marker = new Feature({\r\n            geometry: new Point(fromLonLat([longitude, latitude])),\r\n          });\r\n          marker.setStyle(\r\n            new Icon({\r\n              src: markerImg,\r\n            })\r\n          );\r\n\r\n          // Add the marker to a vector layer\r\n          const vectorSource = new VectorSource({\r\n            features: [marker],\r\n          });\r\n          const vectorLayer = new VectorLayer({\r\n            source: vectorSource,\r\n          });\r\n          map.addLayer(vectorLayer);\r\n\r\n          // Set the view to your location\r\n          map.getView().setCenter(fromLonLat([longitude, latitude]));\r\n          map.getView().setZoom(15);\r\n        },\r\n        (error) => {\r\n          console.error(error);\r\n        }\r\n      );\r\n    }\r\n  }, [map]);\r\n\r\n  return <div id=\"map-container\" style={{ height: \"500px\" }}></div>;\r\n};\r\n\r\nexport default MapWithLocation;\r\n\r\n\r\n\r\n\r\n// import React, { useEffect, useRef, useState } from 'react';\r\n// import L from 'leaflet';\r\n\r\n// function Map() {\r\n//   const mapContainer = useRef(null);\r\n//   const [lng, setLng] = useState(26.8364108);\r\n//   const [lat, setLat] = useState(75.6477448);\r\n//   const [zoom, setZoom] = useState(12);\r\n\r\n//   useEffect(() => {\r\n//     const map = L.map(mapContainer.current).setView([lat, lng], zoom);\r\n//     L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n//       attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors',\r\n//       maxZoom: 18\r\n//     }).addTo(map);\r\n\r\n//     map.on('move', () => {\r\n//       setLng(map.getCenter().lng.toFixed(4));\r\n//       setLat(map.getCenter().lat.toFixed(4));\r\n//       setZoom(map.getZoom().toFixed(2));\r\n//     });\r\n\r\n//     return () => map.remove();\r\n//   }, []);\r\n\r\n//   return (\r\n//     <div>\r\n//       <div className='sidebar'>\r\n//         Longitude: {lng} | Latitude: {lat} | Zoom: {zoom}\r\n//       </div>\r\n//       <div ref={mapContainer} className='map-container' />\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default Map;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,GAAG,MAAM,QAAQ;AACxB,OAAOC,IAAI,MAAM,SAAS;AAC1B,OAAOC,SAAS,MAAM,eAAe;AACrC,OAAOC,GAAG,MAAM,eAAe;AAC/B,OAAOC,OAAO,MAAM,YAAY;AAChC,OAAOC,KAAK,MAAM,eAAe;AACjC,SAASC,UAAU,QAAQ,SAAS;AACpC,OAAOC,WAAW,MAAM,iBAAiB;AACzC,OAAOC,YAAY,MAAM,kBAAkB;AAC3C,SAASC,IAAI,QAAQ,UAAU;AAC/B,OAAOC,SAAS,MAAM,cAAc;AAEpC,MAAMC,eAAe,GAAGA,CAAA,KAAM;EAC5B,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAEpCD,SAAS,CAAC,MAAM;IACd,MAAMgB,UAAU,GAAG,IAAId,GAAG,CAAC;MACzBe,MAAM,EAAE,eAAe;MACvBC,MAAM,EAAE,CACN,IAAId,SAAS,CAAC;QACZe,MAAM,EAAE,IAAId,GAAG;MACjB,CAAC,CAAC,CACH;MACDe,IAAI,EAAE,IAAIjB,IAAI,CAAC;QACbkB,MAAM,EAAEb,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1Bc,IAAI,EAAE;MACR,CAAC;IACH,CAAC,CAAC;IACFP,MAAM,CAACC,UAAU,CAAC;EACpB,CAAC,EAAE,EAAE,CAAC;EAENhB,SAAS,CAAC,MAAM;IACd,IAAIc,GAAG,EAAE;MACPS,SAAS,CAACC,WAAW,CAACC,kBAAkB,CACrCC,QAAQ,IAAK;QACZ,MAAMC,SAAS,GAAGD,QAAQ,CAACE,MAAM,CAACD,SAAS;QAC3C,MAAME,QAAQ,GAAGH,QAAQ,CAACE,MAAM,CAACC,QAAQ;;QAEzC;QACA,MAAMC,MAAM,GAAG,IAAIxB,OAAO,CAAC;UACzByB,QAAQ,EAAE,IAAIxB,KAAK,CAACC,UAAU,CAAC,CAACmB,SAAS,EAAEE,QAAQ,CAAC,CAAC;QACvD,CAAC,CAAC;QACFC,MAAM,CAACE,QAAQ,CACb,IAAIrB,IAAI,CAAC;UACPsB,GAAG,EAAErB;QACP,CAAC,CAAC,CACH;;QAED;QACA,MAAMsB,YAAY,GAAG,IAAIxB,YAAY,CAAC;UACpCyB,QAAQ,EAAE,CAACL,MAAM;QACnB,CAAC,CAAC;QACF,MAAMM,WAAW,GAAG,IAAI3B,WAAW,CAAC;UAClCU,MAAM,EAAEe;QACV,CAAC,CAAC;QACFpB,GAAG,CAACuB,QAAQ,CAACD,WAAW,CAAC;;QAEzB;QACAtB,GAAG,CAACwB,OAAO,EAAE,CAACC,SAAS,CAAC/B,UAAU,CAAC,CAACmB,SAAS,EAAEE,QAAQ,CAAC,CAAC,CAAC;QAC1Df,GAAG,CAACwB,OAAO,EAAE,CAACE,OAAO,CAAC,EAAE,CAAC;MAC3B,CAAC,EACAC,KAAK,IAAK;QACTC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB,CAAC,CACF;IACH;EACF,CAAC,EAAE,CAAC3B,GAAG,CAAC,CAAC;EAET,oBAAOf,KAAA,CAAA4C,aAAA;IAAKC,EAAE,EAAC,eAAe;IAACC,KAAK,EAAE;MAAEC,MAAM,EAAE;IAAQ,CAAE;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EAAO;AACnE,CAAC;AAED,eAAevC,eAAe;;AAK9B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module"}