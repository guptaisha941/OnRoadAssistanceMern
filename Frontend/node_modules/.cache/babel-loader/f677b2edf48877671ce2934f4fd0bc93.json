{"ast":null,"code":"import _ol_color_ from '../color.js';\n\n/**\n * Singleton class. Available through {@link ol.style.iconImageCache}.\n * @constructor\n */\nvar _ol_style_IconImageCache_ = function () {\n  /**\n   * @type {Object.<string, ol.style.IconImage>}\n   * @private\n   */\n  this.cache_ = {};\n\n  /**\n   * @type {number}\n   * @private\n   */\n  this.cacheSize_ = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  this.maxCacheSize_ = 32;\n};\n\n/**\n * @param {string} src Src.\n * @param {?string} crossOrigin Cross origin.\n * @param {ol.Color} color Color.\n * @return {string} Cache key.\n */\n_ol_style_IconImageCache_.getKey = function (src, crossOrigin, color) {\n  var colorString = color ? _ol_color_.asString(color) : 'null';\n  return crossOrigin + ':' + src + ':' + colorString;\n};\n\n/**\n * FIXME empty description for jsdoc\n */\n_ol_style_IconImageCache_.prototype.clear = function () {\n  this.cache_ = {};\n  this.cacheSize_ = 0;\n};\n\n/**\n * FIXME empty description for jsdoc\n */\n_ol_style_IconImageCache_.prototype.expire = function () {\n  if (this.cacheSize_ > this.maxCacheSize_) {\n    var i = 0;\n    var key, iconImage;\n    for (key in this.cache_) {\n      iconImage = this.cache_[key];\n      if ((i++ & 3) === 0 && !iconImage.hasListener()) {\n        delete this.cache_[key];\n        --this.cacheSize_;\n      }\n    }\n  }\n};\n\n/**\n * @param {string} src Src.\n * @param {?string} crossOrigin Cross origin.\n * @param {ol.Color} color Color.\n * @return {ol.style.IconImage} Icon image.\n */\n_ol_style_IconImageCache_.prototype.get = function (src, crossOrigin, color) {\n  var key = _ol_style_IconImageCache_.getKey(src, crossOrigin, color);\n  return key in this.cache_ ? this.cache_[key] : null;\n};\n\n/**\n * @param {string} src Src.\n * @param {?string} crossOrigin Cross origin.\n * @param {ol.Color} color Color.\n * @param {ol.style.IconImage} iconImage Icon image.\n */\n_ol_style_IconImageCache_.prototype.set = function (src, crossOrigin, color, iconImage) {\n  var key = _ol_style_IconImageCache_.getKey(src, crossOrigin, color);\n  this.cache_[key] = iconImage;\n  ++this.cacheSize_;\n};\n\n/**\n * Set the cache size of the icon cache. Default is `32`. Change this value when\n * your map uses more than 32 different icon images and you are not caching icon\n * styles on the application level.\n * @param {number} maxCacheSize Cache max size.\n * @api\n */\n_ol_style_IconImageCache_.prototype.setSize = function (maxCacheSize) {\n  this.maxCacheSize_ = maxCacheSize;\n  this.expire();\n};\nexport default _ol_style_IconImageCache_;","map":{"version":3,"names":["_ol_color_","_ol_style_IconImageCache_","cache_","cacheSize_","maxCacheSize_","getKey","src","crossOrigin","color","colorString","asString","prototype","clear","expire","i","key","iconImage","hasListener","get","set","setSize","maxCacheSize"],"sources":["D:/demo_one/react-website-v1/node_modules/ol/style/iconimagecache.js"],"sourcesContent":["import _ol_color_ from '../color.js';\n\n/**\n * Singleton class. Available through {@link ol.style.iconImageCache}.\n * @constructor\n */\nvar _ol_style_IconImageCache_ = function() {\n\n  /**\n   * @type {Object.<string, ol.style.IconImage>}\n   * @private\n   */\n  this.cache_ = {};\n\n  /**\n   * @type {number}\n   * @private\n   */\n  this.cacheSize_ = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  this.maxCacheSize_ = 32;\n};\n\n\n/**\n * @param {string} src Src.\n * @param {?string} crossOrigin Cross origin.\n * @param {ol.Color} color Color.\n * @return {string} Cache key.\n */\n_ol_style_IconImageCache_.getKey = function(src, crossOrigin, color) {\n  var colorString = color ? _ol_color_.asString(color) : 'null';\n  return crossOrigin + ':' + src + ':' + colorString;\n};\n\n\n/**\n * FIXME empty description for jsdoc\n */\n_ol_style_IconImageCache_.prototype.clear = function() {\n  this.cache_ = {};\n  this.cacheSize_ = 0;\n};\n\n\n/**\n * FIXME empty description for jsdoc\n */\n_ol_style_IconImageCache_.prototype.expire = function() {\n  if (this.cacheSize_ > this.maxCacheSize_) {\n    var i = 0;\n    var key, iconImage;\n    for (key in this.cache_) {\n      iconImage = this.cache_[key];\n      if ((i++ & 3) === 0 && !iconImage.hasListener()) {\n        delete this.cache_[key];\n        --this.cacheSize_;\n      }\n    }\n  }\n};\n\n\n/**\n * @param {string} src Src.\n * @param {?string} crossOrigin Cross origin.\n * @param {ol.Color} color Color.\n * @return {ol.style.IconImage} Icon image.\n */\n_ol_style_IconImageCache_.prototype.get = function(src, crossOrigin, color) {\n  var key = _ol_style_IconImageCache_.getKey(src, crossOrigin, color);\n  return key in this.cache_ ? this.cache_[key] : null;\n};\n\n\n/**\n * @param {string} src Src.\n * @param {?string} crossOrigin Cross origin.\n * @param {ol.Color} color Color.\n * @param {ol.style.IconImage} iconImage Icon image.\n */\n_ol_style_IconImageCache_.prototype.set = function(src, crossOrigin, color, iconImage) {\n  var key = _ol_style_IconImageCache_.getKey(src, crossOrigin, color);\n  this.cache_[key] = iconImage;\n  ++this.cacheSize_;\n};\n\n\n/**\n * Set the cache size of the icon cache. Default is `32`. Change this value when\n * your map uses more than 32 different icon images and you are not caching icon\n * styles on the application level.\n * @param {number} maxCacheSize Cache max size.\n * @api\n */\n_ol_style_IconImageCache_.prototype.setSize = function(maxCacheSize) {\n  this.maxCacheSize_ = maxCacheSize;\n  this.expire();\n};\nexport default _ol_style_IconImageCache_;\n"],"mappings":"AAAA,OAAOA,UAAU,MAAM,aAAa;;AAEpC;AACA;AACA;AACA;AACA,IAAIC,yBAAyB,GAAG,SAAAA,CAAA,EAAW;EAEzC;AACF;AACA;AACA;EACE,IAAI,CAACC,MAAM,GAAG,CAAC,CAAC;;EAEhB;AACF;AACA;AACA;EACE,IAAI,CAACC,UAAU,GAAG,CAAC;;EAEnB;AACF;AACA;AACA;EACE,IAAI,CAACC,aAAa,GAAG,EAAE;AACzB,CAAC;;AAGD;AACA;AACA;AACA;AACA;AACA;AACAH,yBAAyB,CAACI,MAAM,GAAG,UAASC,GAAG,EAAEC,WAAW,EAAEC,KAAK,EAAE;EACnE,IAAIC,WAAW,GAAGD,KAAK,GAAGR,UAAU,CAACU,QAAQ,CAACF,KAAK,CAAC,GAAG,MAAM;EAC7D,OAAOD,WAAW,GAAG,GAAG,GAAGD,GAAG,GAAG,GAAG,GAAGG,WAAW;AACpD,CAAC;;AAGD;AACA;AACA;AACAR,yBAAyB,CAACU,SAAS,CAACC,KAAK,GAAG,YAAW;EACrD,IAAI,CAACV,MAAM,GAAG,CAAC,CAAC;EAChB,IAAI,CAACC,UAAU,GAAG,CAAC;AACrB,CAAC;;AAGD;AACA;AACA;AACAF,yBAAyB,CAACU,SAAS,CAACE,MAAM,GAAG,YAAW;EACtD,IAAI,IAAI,CAACV,UAAU,GAAG,IAAI,CAACC,aAAa,EAAE;IACxC,IAAIU,CAAC,GAAG,CAAC;IACT,IAAIC,GAAG,EAAEC,SAAS;IAClB,KAAKD,GAAG,IAAI,IAAI,CAACb,MAAM,EAAE;MACvBc,SAAS,GAAG,IAAI,CAACd,MAAM,CAACa,GAAG,CAAC;MAC5B,IAAI,CAACD,CAAC,EAAE,GAAG,CAAC,MAAM,CAAC,IAAI,CAACE,SAAS,CAACC,WAAW,EAAE,EAAE;QAC/C,OAAO,IAAI,CAACf,MAAM,CAACa,GAAG,CAAC;QACvB,EAAE,IAAI,CAACZ,UAAU;MACnB;IACF;EACF;AACF,CAAC;;AAGD;AACA;AACA;AACA;AACA;AACA;AACAF,yBAAyB,CAACU,SAAS,CAACO,GAAG,GAAG,UAASZ,GAAG,EAAEC,WAAW,EAAEC,KAAK,EAAE;EAC1E,IAAIO,GAAG,GAAGd,yBAAyB,CAACI,MAAM,CAACC,GAAG,EAAEC,WAAW,EAAEC,KAAK,CAAC;EACnE,OAAOO,GAAG,IAAI,IAAI,CAACb,MAAM,GAAG,IAAI,CAACA,MAAM,CAACa,GAAG,CAAC,GAAG,IAAI;AACrD,CAAC;;AAGD;AACA;AACA;AACA;AACA;AACA;AACAd,yBAAyB,CAACU,SAAS,CAACQ,GAAG,GAAG,UAASb,GAAG,EAAEC,WAAW,EAAEC,KAAK,EAAEQ,SAAS,EAAE;EACrF,IAAID,GAAG,GAAGd,yBAAyB,CAACI,MAAM,CAACC,GAAG,EAAEC,WAAW,EAAEC,KAAK,CAAC;EACnE,IAAI,CAACN,MAAM,CAACa,GAAG,CAAC,GAAGC,SAAS;EAC5B,EAAE,IAAI,CAACb,UAAU;AACnB,CAAC;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACAF,yBAAyB,CAACU,SAAS,CAACS,OAAO,GAAG,UAASC,YAAY,EAAE;EACnE,IAAI,CAACjB,aAAa,GAAGiB,YAAY;EACjC,IAAI,CAACR,MAAM,EAAE;AACf,CAAC;AACD,eAAeZ,yBAAyB"},"metadata":{},"sourceType":"module"}